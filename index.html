<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1,user-scalable=no,maximum-scale=1,width=device-width">
    <title>JUPEM JOHOR - WOW FACTOR</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet.locatecontrol@0.79.0/dist/L.Control.Locate.min.css">
    <script src="https://cdn.jsdelivr.net/npm/leaflet.locatecontrol@0.79.0/dist/L.Control.Locate.min.js"></script>
    
    <link rel="stylesheet" type="text/css" href="https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.css" />
    <link rel="stylesheet" type="text/css" href="https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.Default.css" />
    <script type="text/javascript" src="https://unpkg.com/leaflet.markercluster@1.4.1/dist/leaflet.markercluster.js"></script>
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet-groupedlayercontrol@0.6.1/dist/leaflet.groupedlayercontrol.min.css">
    <script src="https://cdn.jsdelivr.net/npm/leaflet-groupedlayercontrol@0.6.1/dist/leaflet.groupedlayercontrol.min.js"></script>
    
    <link rel="stylesheet" href="https://unpkg.com/@geoman-io/leaflet-geoman-free@2.3.0/dist/leaflet-geoman.css" />
    <script src="https://unpkg.com/@geoman-io/leaflet-geoman-free@2.3.0/dist/leaflet-geoman.min.js"></script>

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A==" crossorigin="" />
    <link rel="stylesheet" href="assets/css/app.css">
    

</head>

<body>
    <div id="map"></div>

    <div id="attribution" class="leaflet-control-attribution"></div>
    
    <div class="modal fade" id="featureModal" tabindex="-1" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button class="close" type="button" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title text-primary" id="feature-title"></h4>
                </div>
                <div class="modal-body" id="feature-info"></div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="attributionModal" tabindex="-1" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title">Data Attribution</h4>
                </div>
                <div class="modal-body">
                    <p>All data layers and sources will be listed here dynamically by the application.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- <div style="position: absolute; top: 10px; left: 10px; background: white; z-index: 1000; padding: 10px; border-radius: 5px; box-shadow: 0 1px 5px rgba(0,0,0,0.4);">
        <h4 style="margin-top: 0;">Layer Manager</h4>
        <button id="new-fc" class="btn btn-primary btn-sm">New Layer</button>
        <button id="import-fc" class="btn btn-success btn-sm">Import GeoJSON</button>
        <hr style="margin: 10px 0;">
        <div id="layerBox">
            <p>No editable layers loaded.</p>
        </div>
        <hr style="margin: 10px 0;">
        <div id="download-tools" style="display: flex; gap: 5px;">
             <a id="download-geojson" class="btn btn-info btn-xs" href="#">Download GeoJSON</a>
            <button id="download-shp" class="btn btn-info btn-xs">Download SHP</button>
            <button id="delete-fc" class="btn btn-danger btn-xs">Delete Layer</button>
        </div>
    </div> -->

    <div class="custom-control-container"> 
    <h4 style="margin-top: 0;">Layer Manager</h4>
    <button id="new-fc" class="btn btn-primary btn-sm">New Layer</button>
    <button id="import-fc" class="btn btn-success btn-sm">Import GeoJSON</button>
    <hr style="margin: 10px 0;">
    <div id="layerBox">
        <p>No editable layers loaded.</p>
    </div>
    <hr style="margin: 10px 0;">
    <div id="download-tools" style="display: flex; gap: 5px;">
         <a id="download-geojson" class="btn btn-info btn-xs" href="#">Download GeoJSON</a>
         <button id="download-shp" class="btn btn-info btn-xs">Download SHP</button>
         <button id="delete-fc" class="btn btn-danger btn-xs">Delete Layer</button>
    </div>
</div>
    
    <div id="lat-lng-pane">Lat: 0.000000, Long: 0.000000</div>

    <div id="edit-pane" class="modal">
        <h4 id="edit-pane-title">Edit Feature</h4>
        <button id="close-edit-pane" class="close-modal btn btn-sm">&times;</button>
        <h5 style="margin-top: 15px;">Attributes</h5>
        <ul id="attribute-pane" style="padding: 0;">
            </ul>
        <div style="display: flex; justify-content: space-between; margin-top: 20px;">
            <button id="save-feature" class="btn btn-success">Save</button>
            <button id="delete-feature" class="btn btn-danger">Delete</button>
            <button id="cancel-feature" class="btn btn-default">Cancel</button>
        </div>
    </div>

    <div id="new-fc-modal" class="modal" tabindex="-1" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-head modal-title">Create New Layer</h4>
                    <button class="close-modal btn btn-sm" type="button">&times;</button>
                </div>
                <div class="modal-body">
                    <label>Layer Name:</label>
                    <input type="text" id="new-fc-name" class="form-control" placeholder="Enter layer name">
                    <label style="margin-top: 10px;">Geometry Type:</label>
                    <select id="geo-type" class="form-control">
                        <option value="Polygon">Polygon</option>
                        <option value="LineString">LineString</option>
                        <option value="Point">Point</option>
                    </select>
                    <h5 style="margin-top: 15px;">Properties (Attributes)</h5>
                    <div id="prop-list">
                        <input type="text" placeholder="Enter a property name" class="form-control">
                    </div>
                    <button id="add-property" class="btn btn-info btn-xs" style="margin-top: 5px;">+ Add Property</button>
                    <hr>
                    <button id="create-new-fc" class="btn btn-success">Create Layer</button>
                </div>
            </div>
        </div>
    </div>

    <div id="import-file-modal" class="modal" tabindex="-1" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-head modal-title">Import GeoJSON Layer</h4>
                    <button class="close-modal btn btn-sm" type="button">&times;</button>
                </div>
                <div class="modal-body">
                    <label>Select GeoJSON File(s):</label>
                    <input type="file" class="geojson-file-input" accept=".geojson" multiple>
                    <hr>
                    <button id="add-geojson-map" class="btn btn-success">Add to Map</button>
                </div>
            </div>
        </div>
    </div>

    <div id="settings-modal" class="modal" tabindex="-1" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-head modal-title">Settings - [Layer Name]</h4>
                    <button class="close-modal btn btn-sm" type="button">&times;</button>
                </div>
                <div class="modal-body">
                    <label>Rename Layer:</label>
                    <input type="text" id="rename-fc" class="form-control">
                    <h5 style="margin-top: 15px;">Add/Remove Properties</h5>
                    <div id="add-remove-prop-list" style="margin-bottom: 5px;">
                        </div>
                    <button id="add-property-2" class="btn btn-info btn-xs" style="margin-top: 5px;">+ Add Property</button>
                    <hr>
                    <button id="apply-settings" class="btn btn-success">Apply Changes</button>
                </div>
            </div>
        </div>
    </div>
    
    <div id="style-modal" class="modal" tabindex="-1" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-head modal-title">Style - [Layer Name]</h4>
                    <button class="close-modal btn btn-sm" type="button">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="grid-container" style="display: grid; grid-template-columns: 1fr 1fr;">
                        <label>Stroke Color:</label>
                        <input type="color" id="style-stroke-color" value="#3388ff">
                        <label>Stroke Width:</label>
                        <div>
                            <input type="range" min="1" max="10" step="1" id="style-stroke-width" style="width: 70%;" value="3">
                            <span id="style-stroke-width-value">3px</span>
                        </div>
                        <label>Fill Color:</label>
                        <input type="color" id="style-fill-color" value="#3388ff">
                        <label>Fill Opacity:</label>
                        <div>
                            <input type="range" min="0" max="1" step="0.1" id="style-fill-opacity" style="width: 70%;" value="0.2">
                            <span id="style-fill-opacity-value">20%</span>
                        </div>
                        <label>Radius (Points):</label>
                        <div>
                            <input type="range" min="3" max="20" step="1" id="radius" style="width: 70%;" value="6">
                            <span id="radius-value">6px</span>
                        </div>
                    </div>
                    <hr>
                    <button id="apply-style" class="btn btn-success">Apply Style</button>
                </div>
            </div>
        </div>
    </div>


   
</body>

<script src="assets/js/app.js"></script>
</html>